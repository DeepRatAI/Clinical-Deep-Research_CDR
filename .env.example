# CDR Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# LLM PROVIDERS
# =============================================================================

# HuggingFace (PRIMARY PROVIDER - required)
# Get token at: https://huggingface.co/settings/tokens
HF_TOKEN=hf_...

# Optional: Use Inference Endpoints or TGI instead of Inference API
# HF_ENDPOINT_URL=https://your-endpoint.aws.endpoints.huggingface.cloud

# Optional: Specify custom model (default: Meta-Llama-3.1-70B-Instruct)
# HF_MODEL=meta-llama/Meta-Llama-3.1-70B-Instruct

# OpenAI (FALLBACK - optional)
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4o

# Anthropic (FALLBACK - optional)
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Default provider (huggingface|openai|anthropic)
LLM_DEFAULT_PROVIDER=huggingface

# =============================================================================
# EXTERNAL APIS
# =============================================================================

# NCBI/PubMed API Key (recommended for higher rate limits)
# Get one at: https://www.ncbi.nlm.nih.gov/account/settings/
NCBI_API_KEY=

# NCBI contact email (required by E-utilities ToS)
NCBI_EMAIL=your-email@example.com

# =============================================================================
# VECTOR STORE
# =============================================================================

# Qdrant configuration
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# Collection name for CDR embeddings
QDRANT_COLLECTION=cdr_embeddings

# =============================================================================
# STORAGE
# =============================================================================

# Path for artifact storage (JSON files)
CDR_ARTIFACT_PATH=/data/cdr/artifacts

# SQLite database path for run state
CDR_DB_PATH=/data/cdr/cdr.db

# =============================================================================
# EMBEDDING MODEL
# =============================================================================

# Model for dense retrieval embeddings
# Options: all-MiniLM-L6-v2, all-mpnet-base-v2, biomedical variants
EMBEDDING_MODEL=all-MiniLM-L6-v2

# =============================================================================
# RERANKER MODEL
# =============================================================================

# Cross-encoder model for reranking
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# =============================================================================
# LOGGING
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable human-in-the-loop checkpoints
CDR_ENABLE_HITL=false

# Strict mode: fail on any verification issue
CDR_STRICT_MODE=true

# Maximum retrieval records per source
CDR_MAX_RECORDS_PER_SOURCE=100

# Minimum citation coverage threshold (0.0 - 1.0)
CDR_CITATION_COVERAGE_THRESHOLD=0.90

# =============================================================================
# DEVELOPMENT
# =============================================================================

# Enable debug mode (verbose logging, no caching)
CDR_DEBUG=false
